## AccountManagement.ps1 (Supported API versions: v5)

This script can be used to edit account passwords after creating them in bulk. You might have accounts LoginEnt0001, ..., LoginEnt1000. Because bulk creation does not currently allow for unique passwords, it may seem tidious to manually edit each account, certainly as the number of accounts increases. 

### Example usage:
```
.\UpdateAccountPasswords.ps1 -Fqdn "YOUR_FQDN" -Token "YOUR_SECRET_TOKEN" -PathToCsv ".\LoginEnterpriseAutomation\Accounts\Resources\Accounts.csv" -Count "1000"
```

### Algorithm:
* Import the CSV file
* Get all existing accounts
* For each Username in the CSV:
   * Filter accounts for matching Username AND Domain combination (i.e. users must exist in Login Enterprise appliance and exactly match username and domain in .csv)
   * Modify the account with password from .csv

#### Parameters:
* ```Fqdn```: The fully qualified domain name of your Login Enterprise virtual appliance
* ```Token```: The token generated by Login Enterprise with Configuration level access
* ```PathToCSV```: The filepath to a CSV file containing test user account information
* ```Count```: The number of accounts to query (only requred if there are more than 1000 accounts in the Login Enterprise appliance)

The CSV must have the following three columns, exactly as shown. If there is not an account with the exact username/ domain combination, it will return error 405. 

| Username    | Password            | Domain           | 
| ----------- | ------------------- |------------------|
| User1       | User1Password       | contoso.org      |
| ...         | ...                 | ...              |
| UserN       | UserNPassword       | contoso.org      |


> Note: The CSV may have other columns. However, the "Username", "Password", and "Domain" columns MUST exist, and be titled as shown above. Please see /Maintenance/Resources/Accounts.csv for example input.
